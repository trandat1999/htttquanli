<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head th:replace="admin/common/menu::html_head">
</head>

<body id="page-top">
	<!-- Page Wrapper -->
	<div id="wrapper">
		<!-- Sidebar -->
		<ul th:replace="admin/common/menu:: menu"></ul>
		<!-- Content Wrapper -->
		<div id="content-wrapper" class="d-flex flex-column">
			<!-- Main Content -->
			<div id="content">
				<!-- Topbar -->
				<nav th:replace="admin/common/menu:: search"></nav>
				<!-- End of Topbar -->
				<!--content-->
				<div class="col-md-12">
					<form action="" method="post">
						<div class="col-md-12">
							<div class="row">
								<div class="mt-1">
									<label><span>Nhà cung cấp:</span></label>
									<input list="suppli" th:field="${importbill.supplier}" />
									<datalist id="suppli">
										<option th:each="supp: ${suppliers}" th:value="${supp.id}"
											th:text="${supp.name +' ' +supp.phoneNumber}"></option>
									</datalist>
									<button type="button" name="" id="" th:onclick="addsupplier()"
										class="btn btn-primary ">Nhà cung cấp mới</button>
								</div>
							</div>
							<div class="row mt-5" id="supplie" hidden="true">
								<div class="col-md-3 mt-2">
									<label>tên:</label>
									<input type="text" placeholder="tên nhà cung cấp...." required />
								</div>
								<div class="col-md-3 mt-2">
									<label>địa chỉ:</label>
									<input type="text" placeholder="địa chỉ...." required />
								</div>
								<div class="col-md-4 mt-2">
									<label>số điện thoại:</label>
									<input type="text" placeholder="số điện thoại...." maxlength="10" minlength="10"
										required
										oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\.*)\./g, '$1');" />
								</div>
								<div class="col-md-3 mt-2">
									<label>mô tả:</label>
									<input type="text" placeholder="mô tả...." required />
								</div>
								<div class="col-md-3 mt-2">
									<label>email:</label>
									<input type="email" placeholder="email...." required />
								</div>
							</div>
							<div class="row m-3">
								<label for="">Nhập số lượng sản phẩm:</label>
								<input type="text" id="inputnumber" placeholder="số lượng sản phẩm...." maxlength="2"
									minlength="1" required
									oninput="this.value = this.value.replace(/[^0-9]/g, '').replace(/(\.*)\./g, '$1');" />
								<table class="table">
									<thead>
										<tr>
											<th>Sản phẩm</th>
											<th>Số lượng</th>
											<th>Giá 1 sản phẩm</th>
										</tr>
									</thead>
									<tbody id="itembill">
									</tbody>
								</table>
							</div>
						</div>
					</form>
				</div>
				<datalist id="items" th:field="${importbill.supplier}">
					<option th:each="item: ${listItem}" th:data-tokens="${item.name}" th:value="${item.id}"
						th:text="${item.name}"></option>

				</datalist>
				<!--content-->
			</div>
			<!-- End of Main Content -->
			<!-- Footer -->
			<footer th:replace="admin/common/menu::footer"></footer>
			<!-- End of Footer -->
		</div>
	</div>
	<!-- Logout Modal-->
	<div th:replace="admin/common/menu::option_user"></div>
	<!-- Bootstrap core JavaScript-->
	<script th:inline="javascript" type="text/javascript">
		// $(function () {
		// 	$('.selectpicker').selectpicker();
		// });
		var x = true;

		function addsupplier() {
			x = !x;
			document.getElementById("supplie").hidden = x;
		}

		const inputNumber = function (e) {
			let str = '';
			let str1 = "<tr>" +
				'<td>' +
					'<input placeholder="Chọn sản phẩm" list="items" />'+
				'</td>' +
				'<td>' +
				'<input type="text" placeholder="Số lượng sản phẩm...." required' +
				' oninput="this.value = this.value.replace(/[^0-9]/g' + ",'').replace(/(" + "\.*)\./g,'$1')" + ';" />' +
				'</td>' +
				'<td>' +
				'<input type="text" placeholder="Giá sản phẩm...." required' +
				' oninput="this.value = this.value.replace(/[^0-9]/g' + ",'').replace(/(" + "\.*)\./g,'$1')" + ';" />' +
				'</td>' +
				'</tr>';
			for (let i = 0; i < e.target.value; i++) {
				str += str1;
			}
			console.log(e.target.value);
			document.getElementById("itembill").innerHTML = str;

		}


		const source = document.getElementById('inputnumber');
		let number = document.getElementById("inputnumber").value
		source.addEventListener('input', inputNumber);
	</script>
	<script th:src="@{/admin/vendor/jquery/jquery.min.js}"></script>
	<script th:src="@{/admin/vendor/bootstrap/js/bootstrap.bundle.min.js}"></script>
	<script th:src="@{/bootstrap/js/bootstrap.min.js}"></script>
	<script th:src="@{/admin/vendor/jquery-easing/jquery.easing.min.js}"></script>
	<!-- Latest compiled and minified CSS -->
	<!-- Latest compiled and minified JavaScript -->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/bootstrap-select.min.js">
	</script>
	<!-- (Optional) Latest compiled and minified JavaScript translation files -->
	<!-- <script src="https://cdn.jsdelivr.net/npm/bootstrap-select@1.13.14/dist/js/i18n/defaults-*.min.js"></script> -->
</body>


</html>